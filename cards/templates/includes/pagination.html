<nav aria-label="Page navigation">
   <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.first_page_number }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">Первая</a>
         </li>
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.previous_page_number }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">Назад</a>
         </li>
      {% endif %}
      {% if page_obj.number|add:'-4' > 1 %}
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.number|add:'-5' }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">&hellip;</a>
         </li>
      {% endif %}
      {% for i in page_obj.paginator.page_range %}
         {% if page_obj.number == i %}
            <li class="page-item active" aria-current="page">
               <span class="page-link">
                  {{ i }}
                  {% comment %} <span class="sr-only">(текущая)</span> {% endcomment %}
               </span>
            </li>
         {% elif i > page_obj.number|add:'-5' and i < page_obj.number|add:'5' %}
            <li class="page-item">
               <a class="page-link"
                  href="?page={{ i }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">{{ i }}</a>
            </li>
         {% endif %}
      {% endfor %}
      {% if page_obj.paginator.num_pages > page_obj.number|add:'4' %}
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.number|add:'5' }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">&hellip;</a>
         </li>
      {% endif %}
      {% if page_obj.has_next %}
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.next_page_number }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">Вперед</a>
         </li>
         <li class="page-item">
            <a class="page-link"
               href="?page={{ page_obj.paginator.num_pages }}&sort={{ sort }}&order={{ order }}{% if search_query %}&search_query={{ search_query }}{% endif %}">Последняя</a>
         </li>
      {% else %}
         <li class="page-item disabled">
            {% comment %} <a class="page-link" href="#" tabindex="-1" aria-disabled="True">Вперед</a> {% endcomment %}
         </li>
      {% endif %}
   </ul>
</nav>
